<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
   <meta charset="UTF-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <link rel="stylesheet" href="https://github.com/Quick-Community/site/blob/main/styles/style.css" />
   <link rel="icon" href="https://github.com/Quick-Community/site/blob/main/imgs/logo.png" />
   <title>REE6 | Moderation</title>
   <style>
      footer {
         padding-top: 150px;
      }
      #home .img-wrapper {
         height: 200px;
         width: 200px;
      }
      #home .img-container {
         width: 25vw;
         height: 25vw;
         margin: auto;
         overflow: hidden;
         margin-left: 5vw;
         border-radius: 100%;
      }
      #home .img-wrapper:hover img {
         transform: scale(1.1);
      }
      #home .img-container:hover img {
         transform: scale(1.1);
      }
      .hamburger-container {
         height: 90%;
      }
      .hero-statement h1 {
         font-size: clamp(25px, 10.5vw, 135px);
      }
      section#home {
         grid-template-columns: 1fr;
      }
      #home .hero-statement {
         margin-left: 8%;
      }
      @media only screen and (max-width: 1350px) {
         #home .hero-statement {
            margin: auto;
         }
      }
      @media only screen and (max-width: 400px) {
         .hero-statement h1 {
            letter-spacing: 5px;
         }
         .hero-statement .hero-descrip {
            font-size: 12px;
         }
      }
      @media only screen and (max-width: 360px) {
         .msg-btn-add {
            transform: translateY(calc(-100% - 10px));
            padding: 7px 15px;
            height: fit-content;
         }
      }
      @media only screen and (max-height: 650px) {
         .hamburger-container a {
            font-size: 11px;
         }
      }
      @media only screen and (max-height: 425px) {
         .hamburger-container a {
            font-size: 9px;
         }
      }
   </style>
</head>
<body>
<div class="transition-fade"></div>
<div class="cursor"></div>
<div class="inner-cursor"></div>
<div class="cursor-modal"></div>
<header id="float-home">
   <nav class="desktop-nav">
      <a th:href="@{'/panel'}">Panel</a>
      <a th:href="@{'/server?guildId=' + ${guild.getId()}}">Server</a>
      <a th:href="@{'/logging?guildId=' + ${guild.getId()}}">Logging</a>
      <a th:href="@{'/moderation?guildId=' + ${guild.getId()}}" class="slide-active">Moderation</a>
      <a th:href="@{'/social?guildId=' + ${guild.getId()}}">Social</a>
      <a th:href="@{'/leaderboard?guildId=' + ${guild.getId()}}">Leaderboard</a>
   </nav>
   <button class="hamburger-button">
      <span class="line-one"></span>
      <span class="line-two"></span>
   </button>
   <nav class="hamburger-wrapper">
      <div class="hamburger-container">
         <a th:href="@{'/panel'}"><span>Panel</span></a>
         <a th:href="@{'/server?guildId=' + ${guild.getId()}}"><span>Server</span></a>
         <a th:href="@{'/logging?guildId=' + ${guild.getId()}}"><span>Logging</span></a>
         <a th:href="@{'/moderation?guildId=' + ${guild.getId()}}"><span>Moderation</span></a>
         <a th:href="@{'/social?guildId=' + ${guild.getId()}}"><span>Social</span></a>
         <a th:href="@{'/leaderboard?guildId=' + ${guild.getId()}}"><span>Leaderboard</span></a>
         <a href="/"><span>Home</span></a>
      </div>
   </nav>
</header>
<a href="/" class="nav-arrow">
   <div class="arrow-container">
      <div class="arrow-wrapper">
         <span class="circle"></span>
         <div class="arrow">
            <span class="line-one"></span>
            <span class="line-two"></span>
            <span class="line-three"></span>
         </div>
      </div>
   </div>
   <span class="inner-text">Back to Home</span>
</a>
<main>
   <section id="home">
      <div data-parallax data-xaxis="0" data-yaxis="0" class="hero-statement">
         <h1 data-parallax data-xaxis="0.7" data-yaxis="0">
            Mode<span class="dim-text">.rate</span>
         </h1>
         <div
                 data-parallax
                 data-xaxis="0.5"
                 data-yaxis="0"
                 class="hero-descrip"
         >
            Server <strong>Moderation</strong>
         </div>
      </div>
   </section>
   <section class="logging">
      <div class="inner-logging-wrapper">
         <div class="server-profile">
            <div class="profile-img-wrapper">
               <img
                       th:src="${guild.getIconUrl() != null ? guild.getIconUrl() : 'https://github.com/Quick-Community/site/blob/main/serverlogo/base.svg'}"
                       th:alt="${guild.getName()} + 'Server Logo'"
                       src="https://github.com/Quick-Community/site/blob/main/serverlogo/base.svg"
                       alt="Server Logo" />
            </div>
            <h4 th:text="${guild.getName()}">Server</h4>
         </div>
         <div class="logging-features">
            <div class="channel-message-wrapper" th:data-state="${prefixSetting != null ? 'active' : ''}">
               <strong>Command Prefix</strong>
               <form
                       action=""
                       method="post"
                       class="channel-message-wrapper"
                       data-state=""
               >
                  <div
                          class="message-button"
                          data-highlight=""
                          data-color-border="#ea0f77"
                          data-color-dot="#ea0f77"
                          data-color-background="#ffffff00"
                  >
                     <input
                             type="text"
                             name="prefix"
                             id="chatprefix"
                             aria-valuemin="1"
                             aria-valuemax="200"
                             aria-modal=""
                             autocomplete="off"
                             th:value="${prefixSetting.getStringValue()}"
                     />

                     <label for="chatprefix">Prefix (Default: ree!)</label>
                  </div>
                  <button
                          class="msg-btn-add"
                          data-highlight=""
                          data-color-background="#5865F2"
                          data-color-dot="#fff"
                          data-state=""
                          type="button"
                          onclick="updateSettingsWithValue('chatprefix')"
                          >
                     set
                  </button>
                  <div class="message-error" data-state=""></div>
                  <div class="character-count" data-state=""></div>
                  <button
                          type="button"
                          class="message-delete"
                          data-highlight=""
                          data-color-dot="#fff"
                          data-color-background="#ef2222"
                          data-state=""
                  >
                     <img src="https://github.com/Quick-Community/site/blob/main/imgs/trash.svg" alt="DELETE MESSAGE" />
                  </button>
               </form>
            </div>
            <div class="channel-message-wrapper" data-state="">
               <strong>Blacklist</strong>
               <form
                       action=""
                       method="post"
                       class="channel-message-wrapper"
                       data-state=""
               >
                  <div
                          class="message-button"
                          data-highlight=""
                          data-color-border="#ea0f77"
                          data-color-dot="#ea0f77"
                          data-color-background="#ffffff00"
                  >
                     <input
                             type="text"
                             name="word"
                             id="word"
                             aria-valuemin="2"
                             aria-valuemax="200"
                             aria-modal=""
                             autocomplete="off"
                     />

                     <label for="word">Word</label>
                  </div>
                  <button
                          class="msg-btn-add"
                          data-state=""
                          type="button"
                          data-highlight=""
                          data-color-background="#5865F2"
                          data-color-dot="#fff"
                          onclick="updateBadWord('word', 'addBadWord')"
                  >
                     add
                  </button>
                  <div class="message-error" data-state=""></div>
                  <div class="character-count" data-state=""></div>
                  <button
                          type="button"
                          class="message-delete"
                          data-state=""
                          data-highlight=""
                          data-color-dot="#fff"
                          data-color-background="#ef2222"
                  >
                     <img src="https://github.com/Quick-Community/site/blob/main/imgs/trash.svg" alt="DELETE MESSAGE" />
                  </button>
               </form>
               <div class="entries-wrapper">
                  <form id="blacklist-entries" action="" method="post" class="entries-list">
                     <div th:each="word: ${words}"
                       class="entry"
                       data-highlight=""
                       data-color-dot="#fff"
                       data-color-border="#fff"
                       data-color-background="#ffffff00"
                       th:onclick="@{'updateBadWord(\'' + ${word} + '\',\'removeBadWord\')'}"
                     >
                       <div th:id="${word}" class="inner-text" th:text="${word}">test</div>
                       <button type="button" class="delete">
                         <img src="https://github.com/Quick-Community/site/blob/main/imgs/trash.svg" alt="DELETE MESSAGE"/>
                       </button>
                     </div>
                  </form>
               </div>
            </div>
            <form class="activation-options" action="" method="post">
               <strong>Autoroles</strong>
               <div th:each="role: ${roles}" th:id="${role.getId()}" class="logging-feature" th:classappend="${autoroles.contains(role) ? 'logging-feature-active' : ''}">
                  <input type="button" th:value="${role.getName()}" value="@everyone" th:onclick="@{'updateRoles(\'' + ${role.getId()} + '\')'}" />
               </div>
            </form>
            <form class="activation-options" action="" method="post">
               <strong>Moderation Features</strong>
               <div th:each="command: ${commands}" th:id="${command.getName()}" class="logging-feature" th:classappend="${command.getBooleanValue() ? 'logging-feature-active' : ''}">
                  <input type="button" th:value="${command.getName()}" th:name="${command.getName()}" th:onclick="@{'updateSettings(\'' + ${command.getName()} + '\')'}" />
               </div>
            </form>
         </div>
      </div>
   </section>
</main>
<footer>
   <p>
      Ree6 has been made to support users and give them enough tools to
      support and manage their Guild. We don't like how most of the Discord
      Bots want you to pay for special "features". So we decided to change
      that.
   </p>
   <div class="footer-nav">
      <div class="nav-list">
         <strong>Navigation</strong>
         <a th:href="@{'/panel'}">Panel</a>
         <a th:href="@{'/server?guildId=' + ${guild.getId()}}">Server</a>
         <a th:href="@{'/logging?guildId=' + ${guild.getId()}}">Logging</a>
         <a th:href="@{'/moderation?guildId=' + ${guild.getId()}}">Moderation</a>
         <a th:href="@{'/social?guildId=' + ${guild.getId()}}">Social</a>
         <a th:href="@{'/leaderboard?guildId=' + ${guild.getId()}}">Leaderboard</a>
         <a href="/">Home</a>
      </div>
      <div class="nav-list">
         <strong>Legal</strong>
         <a href="https://github.com/Quick-Community/site/blob/main/privacy/">Privacy Policy</a>
         <a href="https://github.com/Quick-Community/site/blob/main/impressum/">Impressum</a>
         <a href="https://github.com/Quick-Community/site/blob/main/protection/">Data Protection</a>
         <button
                 data-copy="legal@github.com/Quick-Community/site/blob/main"
                 data-color-background="#ef2222"
                 data-color-dot="#fff"
         >
            legal@github.com/Quick-Community/site/blob/main
         </button>
      </div>
      <div class="nav-list">
         <strong>Contact</strong>
         <a
                 href="https://discord.com/invite/m99MGKVxuC"
                 target="_blank"
                 rel="noopener noreferrer"
         >Discord</a
         >
         <a
                 href="https://twitter.com/ree6bot"
                 target="_blank"
                 rel="noopener noreferrer"
         >Twitter</a
         >
         <a
                 href="https://github.com/DxsSucuk/Ree6"
                 target="_blank"
                 rel="noopener noreferrer"
         >Github</a
         >
         <button
                 data-copy="support@github.com/Quick-Community/site/blob/main"
                 data-color-background="#ef2222"
                 data-color-dot="#fff"
         >
            support@github.com/Quick-Community/site/blob/main
         </button>
      </div>
   </div>
   <div class="copyright">
      <span class="desktop">Developed and Designed by</span>
      <a
              href="https://www.presti.me/"
              target="_blank"
              rel="noopener noreferrer"
      >Presti</a
      >
      <span class="desktop">&</span>
      <a
              href="https://creeperbuddy.github.io/"
              target="_blank"
              rel="noopener noreferrer"
      >Creeper Buddy</a
      >
      ©Ree6 <span data-time="0"></span>
   </div>
   <script src="https://github.com/Quick-Community/site/blob/main/js/time.js"></script>
   <script src="https://github.com/Quick-Community/site/blob/main/js/navigation.js"></script>
   <script src="https://github.com/Quick-Community/site/blob/main/js/cursor.js"></script>
   <script src="https://github.com/Quick-Community/site/blob/main/js/vanilla-tilt.js"></script>
   <script src="https://github.com/Quick-Community/site/blob/main/js/entrylist.js"></script>
   <script src="https://github.com/Quick-Community/site/blob/main/js/logging.js"></script>
   <script th:inline="javascript">
      function updateSettings(name) {
         var element = document.getElementById(name);

         var isActive = element.classList != null && element.classList.contains('logging-feature-active')

         const XHR = new XMLHttpRequest();

         var guildId = /*[[${guild.getId()}]]*/"";
         var sessionIdentifier = /*[[${identifier}]]*/"";

         const urlEncodedDataPairs = [];

         // Turn the data object into an array of URL-encoded key/value pairs.
         urlEncodedDataPairs.push(`${encodeURIComponent('name')}=${encodeURIComponent(name)}`);
         urlEncodedDataPairs.push(`${encodeURIComponent('value')}=${encodeURIComponent(!isActive)}`);
         urlEncodedDataPairs.push(`${encodeURIComponent('guildSession')}=${encodeURIComponent(guildId)}`);
         urlEncodedDataPairs.push(`${encodeURIComponent('identifierSession')}=${encodeURIComponent(sessionIdentifier)}`);

         // Combine the pairs into a single string and replace all %-encoded spaces to
         // the '+' character; matches the behavior of browser form submissions.
         const urlEncodedData = urlEncodedDataPairs.join('&').replace(/%20/g, '+');

         // Define what happens on successful data submission
         XHR.addEventListener('load', (event) => {
            if (isActive) {
               element.classList.remove('logging-feature-active');
            } else {
               if (element.classList != null) {
                  element.classList.add('logging-feature-active');
               } else {
                  element.className = 'logging-feature-active';
               }
            }
         });

         // Define what happens in case of error
         XHR.addEventListener('error', (event) => {
            alert('Oops! Something went wrong.');
         });

         // Set up our request
         XHR.open('POST', '/moderation/settings');

         // Add the required HTTP header for form data POST requests
         XHR.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

         // Finally, send our data.
         XHR.send(urlEncodedData);
      }
   </script>
   <script th:inline="javascript">
      function updateSettingsWithValue(name) {
         var element = document.getElementById(name);
         const XHR = new XMLHttpRequest();

         var guildId = /*[[${guild.getId()}]]*/"";
         var sessionIdentifier = /*[[${identifier}]]*/"";

         const urlEncodedDataPairs = [];

         var value = element.value;

         if (typeof value === 'undefined') {
            value = element.innerText;
         }

         // Turn the data object into an array of URL-encoded key/value pairs.
         urlEncodedDataPairs.push(`${encodeURIComponent('name')}=${encodeURIComponent(name)}`);
         urlEncodedDataPairs.push(`${encodeURIComponent('value')}=${encodeURIComponent(value)}`);
         urlEncodedDataPairs.push(`${encodeURIComponent('guildSession')}=${encodeURIComponent(guildId)}`);
         urlEncodedDataPairs.push(`${encodeURIComponent('identifierSession')}=${encodeURIComponent(sessionIdentifier)}`);

         // Combine the pairs into a single string and replace all %-encoded spaces to
         // the '+' character; matches the behavior of browser form submissions.
         const urlEncodedData = urlEncodedDataPairs.join('&').replace(/%20/g, '+');

         // Define what happens on successful data submission
         XHR.addEventListener('load', (event) => {
         });

         // Define what happens in case of error
         XHR.addEventListener('error', (event) => {
            alert('Oops! Something went wrong.');
         });

         // Set up our request
         XHR.open('POST', '/moderation/settings');

         // Add the required HTTP header for form data POST requests
         XHR.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

         // Finally, send our data.
         XHR.send(urlEncodedData);
      }
   </script>
   <script th:inline="javascript">
      function updateRoles(name) {
         var element = document.getElementById(name);

         var isActive = element.classList != null && element.classList.contains('logging-feature-active')

         const XHR = new XMLHttpRequest();

         var guildId = /*[[${guild.getId()}]]*/"";
         var sessionIdentifier = /*[[${identifier}]]*/"";

         const urlEncodedDataPairs = [];

         // Turn the data object into an array of URL-encoded key/value pairs.
         urlEncodedDataPairs.push(`${encodeURIComponent('name')}=${encodeURIComponent(isActive ? 'removeAutoRole' : 'addAutoRole')}`);
         urlEncodedDataPairs.push(`${encodeURIComponent('value')}=${encodeURIComponent(name)}`);
         urlEncodedDataPairs.push(`${encodeURIComponent('guildSession')}=${encodeURIComponent(guildId)}`);
         urlEncodedDataPairs.push(`${encodeURIComponent('identifierSession')}=${encodeURIComponent(sessionIdentifier)}`);

         // Combine the pairs into a single string and replace all %-encoded spaces to
         // the '+' character; matches the behavior of browser form submissions.
         const urlEncodedData = urlEncodedDataPairs.join('&').replace(/%20/g, '+');

         // Define what happens on successful data submission
         XHR.addEventListener('load', (event) => {
            if (isActive) {
               element.classList.remove('logging-feature-active');
            } else {
               if (element.classList != null) {
                  element.classList.add('logging-feature-active');
               } else {
                  element.className = 'logging-feature-active';
               }
            }
         });

         // Define what happens in case of error
         XHR.addEventListener('error', (event) => {
            alert('Oops! Something went wrong.');
         });

         // Set up our request
         XHR.open('POST', '/moderation/settings');

         // Add the required HTTP header for form data POST requests
         XHR.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

         // Finally, send our data.
         XHR.send(urlEncodedData);
      }
   </script>
   <script th:inline="javascript">
      function updateBadWord(name, action) {
         var element = document.getElementById(name);

         name = element.value;

         if (typeof name === 'undefined') {
            name = element.innerText;
         }

         const XHR = new XMLHttpRequest();

         var guildId = /*[[${guild.getId()}]]*/"";
         var sessionIdentifier = /*[[${identifier}]]*/"";

         const urlEncodedDataPairs = [];

         // Turn the data object into an array of URL-encoded key/value pairs.
         urlEncodedDataPairs.push(`${encodeURIComponent('name')}=${encodeURIComponent(action)}`);
         urlEncodedDataPairs.push(`${encodeURIComponent('value')}=${encodeURIComponent(name)}`);
         urlEncodedDataPairs.push(`${encodeURIComponent('guildSession')}=${encodeURIComponent(guildId)}`);
         urlEncodedDataPairs.push(`${encodeURIComponent('identifierSession')}=${encodeURIComponent(sessionIdentifier)}`);

         // Combine the pairs into a single string and replace all %-encoded spaces to
         // the '+' character; matches the behavior of browser form submissions.
         const urlEncodedData = urlEncodedDataPairs.join('&').replace(/%20/g, '+');

         // Define what happens on successful data submission
         XHR.addEventListener('load', (event) => {
            if (action == 'addBadWord') {
               var listParent = document.getElementById('blacklist-entries');
               var newDiv = document.createElement('div');
               newDiv.className = 'entry';
               newDiv.setAttribute('data-highlight', '');
               newDiv.setAttribute('data-color-dot', '#fff');
               newDiv.setAttribute('data-color-border', '#fff');
               newDiv.setAttribute('data-color-background', '#ffffff00');
               newDiv.setAttribute('onclick', 'updateBadWord(\'' + name + '\', \'removeBadWord\')');

               var innerText = document.createElement('div');
               innerText.innerText = name;
               innerText.className = 'inner-text';

               newDiv.appendChild(innerText);

               var button = document.createElement('button');
               button.setAttribute('type', 'button');
               button.className = 'delete';

               var image = document.createElement('img');
               image.setAttribute('src', 'https://github.com/Quick-Community/site/blob/main/imgs/trash.svg');
               image.setAttribute('alt', 'DELETE MESSAGE');

               button.append(image);
               newDiv.append(button);
               listParent.appendChild(newDiv)
            } else if (action == 'removeBadWord') {
               var currentParent = element.parentElement;
               if (currentParent != null) {
                  currentParent.remove();
               }
            }
         });

         // Define what happens in case of error
         XHR.addEventListener('error', (event) => {
            alert('Oops! Something went wrong.');
         });

         // Set up our request
         XHR.open('POST', '/moderation/settings');

         // Add the required HTTP header for form data POST requests
         XHR.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

         // Finally, send our data.
         XHR.send(urlEncodedData);
      }
   </script>
</footer>
</body>
</html>